export const translations = {
  en: {
    common: {
      ok: 'OK',
      cancel: 'Cancel',
      yes: 'Yes',
      no: 'No'
    },
    tabs: {
      calendar: 'Calendar',
      group: 'My Group',
      profile: 'Profile'
    },
    calendar: {
      title: 'My Availability',
      selectDate: 'Select dates when you are available',
      hours: 'Hours',
      save: 'Save Availability',
      saved: 'Availability saved!',
      noGroup: 'Join a group first',
      redirecting: 'Redirecting to group page...',
      autoSave: 'Changes are automatically saved'
    },
    group: {
      title: 'Group Availability',
      noGroup: 'No Group',
      joinGroup: 'Join a Group',
      createGroup: 'Create Group',
      groupCode: 'Group Code',
      members: 'Members',
      heatMap: 'Availability Heat Map',
      available: 'available',
      enterCode: 'Enter group code',
      groupName: 'Group name...',
      createGroupButton: 'CREATE NEW GROUP',
      joinGroupButton: 'JOIN GROUP',
      goBack: 'GO BACK',
      missionFailed: 'MISSION FAILED',
      squadNameRequired: 'Squad name is required, soldier!',
      squadDeployed: 'SQUAD DEPLOYED!',
      squadOperational: 'is now operational!',
      squadCode: 'Squad Code',
      proceedToCalendar: 'PROCEED TO CALENDAR',
      createSquadFailed: 'Failed to create squad. Try again.',
      invalidInput: 'INVALID INPUT',
      enterSquadCode: 'Enter squad code to deploy!',
      deploymentSuccessful: 'DEPLOYMENT SUCCESSFUL!',
      welcomeOperator: 'Welcome to the squad, operator!',
      squadNotFound: 'Squad not found. Check your code.',
      joinSquadFailed: 'Failed to join squad. Try again.',
      chat: 'Chat',
      legend: 'Legend',
      transparent: 'transparent',
      lightGreen: 'light green',
      darkGreen: 'dark green',
      squadOperationalStatus: 'Squad operational status',
      missionCalendar: 'MISSION CALENDAR',
      availabilityHeatmap: 'AVAILABILITY HEATMAP',
      availabilityLegend: 'AVAILABILITY LEGEND',
      zeroMembers: '0 Members',
      oneMember: '1 Member',
      twoToFourMembers: '2-4 Members',
      fivePlusMembers: '5+ Members',
      deployToSquad: 'JOIN GROUP',
      establishSquad: 'CREATE MY GROUP',
      demoGroup: 'ðŸ“š DEMO GROUP',
      demoNotice: 'This is a demonstration university gaming club with realistic student schedules and availability for 2025',
      fakePlayers: 'Student Players',
      observerMode: 'You are in observer mode - viewing realistic student availability data',
      groupCodeLabel: 'Squad Code',
      inviteMembers: 'INVITE SQUAD MEMBERS',
      inviteMessage: 'Join our When2Meet squad!',
      shareError: 'Share Error',
      shareErrorMessage: 'Unable to share group. Please try again.',
      squadNameLabel: 'Squad Name',
      shareInstructions: 'Use this code in the When2Meet app to join our tactical unit and coordinate meeting times!',
      shareTitle: 'Join'
    },
    profile: {
      title: 'Profile',
      name: 'Name',
      email: 'Email',
      language: 'Language',
      english: 'English',
      french: 'French',
      currentGroup: 'Current Group',
      leaveGroup: 'Leave Group',
      logout: 'Logout',
      noUserLoggedIn: 'No user logged in',
      leaveGroupConfirm: 'Are you sure you want to leave',
      leaveGroupSuccess: 'You have successfully left the group',
      leaveGroupError: 'Failed to leave group. Please try again.',
      logoutConfirm: 'Are you sure you want to logout?',
      groupCode: 'Code'
    },
    common: {
      save: 'Save',
      cancel: 'Cancel',
      confirm: 'Confirm',
      error: 'Error',
      success: 'Success'
    },
    login: {
      missingInfo: 'Missing Information',
      enterBothFields: 'Please enter both email and password',
      loginFailed: 'Login Failed',
      invalidCredentials: 'Invalid email or password. Please try again.',
      loginError: 'Login Error',
      loginErrorMessage: 'An error occurred during login. Please try again.',
      googleLoginFailed: 'Google Login Failed',
      googleLoginFailedMessage: 'Unable to sign in with Google. Please try again.',
      googleLoginError: 'Google Login Error',
      googleLoginErrorMessage: 'An error occurred during Google login.'
    }
  },
  fr: {
    common: {
      ok: 'OK',
      cancel: 'Annuler',
      yes: 'Oui',
      no: 'Non'
    },
    tabs: {
      calendar: 'Calendrier',
      group: 'Mon Groupe',
      profile: 'Profil'
    },
    calendar: {
      title: 'Ma DisponibilitÃ©',
      selectDate: 'SÃ©lectionnez les dates oÃ¹ vous Ãªtes disponible',
      hours: 'Heures',
      save: 'Enregistrer la disponibilitÃ©',
      saved: 'DisponibilitÃ© enregistrÃ©e!',
      noGroup: 'Rejoignez d\'abord un groupe',
      redirecting: 'Redirection vers la page de groupe...',
      autoSave: 'Les changements sont automatiquement sauvegardÃ©s'
    },
    group: {
      title: 'DisponibilitÃ© du Groupe',
      noGroup: 'Aucun Groupe',
      joinGroup: 'Rejoindre un Groupe',
      createGroup: 'CrÃ©er un Groupe',
      groupCode: 'Code du Groupe',
      members: 'Membres',
      heatMap: 'Carte de DisponibilitÃ©',
      available: 'disponible',
      enterCode: 'Entrer le code du groupe',
      groupName: 'Nom du groupe...',
      createGroupButton: 'CRÃ‰ER UN NOUVEAU GROUPE',
      joinGroupButton: 'REJOINDRE UN GROUPE',
      goBack: 'RETOUR',
      missionFailed: 'MISSION Ã‰CHOUÃ‰E',
      squadNameRequired: 'Le nom du groupe est requis, soldat!',
      squadDeployed: 'GROUPE DÃ‰PLOYÃ‰!',
      squadOperational: 'est maintenant opÃ©rationnel!',
      squadCode: 'Code du Groupe',
      proceedToCalendar: 'ALLER AU CALENDRIER',
      createSquadFailed: 'Ã‰chec de la crÃ©ation du groupe. RÃ©essayez.',
      invalidInput: 'ENTRÃ‰E INVALIDE',
      enterSquadCode: 'Entrez le code du groupe pour dÃ©ployer!',
      deploymentSuccessful: 'DÃ‰PLOIEMENT RÃ‰USSI!',
      welcomeOperator: 'Bienvenue dans le groupe, opÃ©rateur!',
      squadNotFound: 'Groupe non trouvÃ©. VÃ©rifiez votre code.',
      joinSquadFailed: 'Ã‰chec de rejoindre le groupe. RÃ©essayez.',
      chat: 'Discussion',
      legend: 'LÃ©gende',
      transparent: 'transparent',
      lightGreen: 'vert clair',
      darkGreen: 'vert foncÃ©',
      squadOperationalStatus: 'Statut opÃ©rationnel du groupe',
      missionCalendar: 'CALENDRIER DE MISSION',
      availabilityHeatmap: 'CARTE DE DISPONIBILITÃ‰',
      availabilityLegend: 'LÃ‰GENDE DE DISPONIBILITÃ‰',
      zeroMembers: '0 Membres',
      oneMember: '1 Membre',
      twoToFourMembers: '2-4 Membres',
      fivePlusMembers: '5+ Membres',
      deployToSquad: 'REJOINDRE LE GROUPE',
      establishSquad: 'CRÃ‰ER MON GROUPE',
      demoGroup: 'ðŸ“š GROUPE DÃ‰MO',
      demoNotice: 'Ceci est un club de jeu universitaire de dÃ©monstration avec des horaires rÃ©alistes d\'Ã©tudiants et leur disponibilitÃ© pour 2025',
      fakePlayers: 'Ã‰tudiants Joueurs',
      observerMode: 'Vous Ãªtes en mode observateur - visualisation de donnÃ©es de disponibilitÃ© rÃ©alistes d\'Ã©tudiants',
      groupCodeLabel: 'Code du Groupe',
      inviteMembers: 'INVITER DES MEMBRES',
      inviteMessage: 'Rejoignez notre Ã©quipe When2Meet!',
      shareError: 'Erreur de Partage',
      shareErrorMessage: 'Impossible de partager le groupe. Veuillez rÃ©essayer.',
      squadNameLabel: 'Nom de l\'Ã‰quipe',
      shareInstructions: 'Utilisez ce code dans l\'application When2Meet pour rejoindre notre unitÃ© tactique et coordonner les heures de rÃ©union!',
      shareTitle: 'Rejoindre'
    },
    profile: {
      title: 'Profil',
      name: 'Nom',
      email: 'Email',
      language: 'Langue',
      english: 'Anglais',
      french: 'FranÃ§ais',
      currentGroup: 'Groupe Actuel',
      leaveGroup: 'Quitter le Groupe',
      logout: 'DÃ©connexion',
      noUserLoggedIn: 'Aucun utilisateur connectÃ©',
      leaveGroupConfirm: 'ÃŠtes-vous sÃ»r de vouloir quitter',
      leaveGroupSuccess: 'Vous avez quittÃ© le groupe avec succÃ¨s',
      leaveGroupError: 'Ã‰chec de la sortie du groupe. Veuillez rÃ©essayer.',
      logoutConfirm: 'ÃŠtes-vous sÃ»r de vouloir vous dÃ©connecter?',
      groupCode: 'Code'
    },
    common: {
      save: 'Enregistrer',
      cancel: 'Annuler',
      confirm: 'Confirmer',
      error: 'Erreur',
      success: 'SuccÃ¨s'
    },
    login: {
      missingInfo: 'Informations Manquantes',
      enterBothFields: 'Veuillez entrer l\'email et le mot de passe',
      loginFailed: 'Connexion Ã‰chouÃ©e',
      invalidCredentials: 'Email ou mot de passe invalide. Veuillez rÃ©essayer.',
      loginError: 'Erreur de Connexion',
      loginErrorMessage: 'Une erreur s\'est produite lors de la connexion. Veuillez rÃ©essayer.',
      googleLoginFailed: 'Connexion Google Ã‰chouÃ©e',
      googleLoginFailedMessage: 'Impossible de se connecter avec Google. Veuillez rÃ©essayer.',
      googleLoginError: 'Erreur de Connexion Google',
      googleLoginErrorMessage: 'Une erreur s\'est produite lors de la connexion Google.'
    }
  }
};

export type Language = 'en' | 'fr';
export type TranslationKey = typeof translations.en;

// Safe translation function to prevent crashes
export const getTranslation = (key: string, lang: Language = 'en'): string => {
  try {
    const keys = key.split('.');
    let value: any = translations[lang] || translations.en;
    
    for (const k of keys) {
      if (value && typeof value === 'object' && k in value) {
        value = value[k];
      } else {
        // Fallback to English if key not found
        value = translations.en;
        for (const k of keys) {
          if (value && typeof value === 'object' && k in value) {
            value = value[k];
          } else {
            return key; // Return key itself if not found
          }
        }
      }
    }
    
    return typeof value === 'string' ? value : key;
  } catch (error) {
    console.error('[TRANSLATIONS] Error accessing translation key:', key, error);
    return key;
  }
};